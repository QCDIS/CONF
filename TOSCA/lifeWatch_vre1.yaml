tosca_definitions_version: tosca_simple_yaml_1_0

imports:
  - nodes: https://raw.githubusercontent.com/skoulouzis/CONF/develop/TOSCA/types/nodes.yaml
  - data: https://raw.githubusercontent.com/skoulouzis/CONF/DRIP_3.0/TOSCA/types/data.yml
  - capabilities: https://raw.githubusercontent.com/skoulouzis/CONF/develop/TOSCA/types/capabilities.yaml
  - policies: https://raw.githubusercontent.com/skoulouzis/CONF/develop/TOSCA/types/policies.yaml
  - interfaces: https://raw.githubusercontent.com/skoulouzis/CONF/develop/TOSCA/types/interfaces.yml
  
repositories:
  docker_hub: https://hub.docker.com/  

description: >
  TOSCA example
  

topology_template:

  node_templates:        
    ws-pema-lifewatch:
        type: tosca.nodes.ARTICONF.Container.Application.Docker
        properties:
            ports: 
            - "30001:8080"   
        artifacts:
            image:
                type: tosca.artifacts.Deployment.Image.Container.Docker
                file:  alogo53/ws-pema-lifewatch
                repository: docker_hub     
                
  policies:
    - location:
        type: tosca.policies.ARTICONF.Placement.Requirement.Provider
        targets: [ ws-pema-lifewatch ]
        properties:
            accepted_providers: 
                - ExoGENI
    - docker_orchestrator:
        type: tosca.policies.ARTICONF.Requirement.docker.Orchestrator
        targets: [ ws-pema-lifewatch ]
        properties:
            accepted_orchestrator_types: 
                - tosca.nodes.ARTICONF.docker.Orchestrator.Kubernetes
