{
  "creationDate": 1583932800151,
  "toscaTemplate": {
    "tosca_definitions_version": "tosca_simple_yaml_1_0",
    "topology_template": {
      "node_templates": {
        "compute": {
          "properties": {
            "disk_size": "50000 MB",
            "mem_size": "6000 MB",
            "num_cores": 2,
            "os": "Ubuntu 18.04",
            "user_name": "vm_user"
          },
          "interfaces": {
            "Standard": {
              "create": "dumy.yaml"
            }
          },
          "type": "tosca.nodes.ARTICONF.VM.Compute",
          "attributes": {
            "user_key_pair": {
              "protocol": "ssh",
              "keys": {
                "public_key": "c3NoLXJzYSBBQUFBQjNOemFDMXljMkVBQUFBREFRQUJBQUFBZ1FDZmQvWUZHOTRSbUt6S2dabjVsWW9PU2VqM09yKzJEMFpOOE9jL1hIZmNnTUNNTDkydm13SkFGV090bTZpWTZYYWY4R3EwM1Y1TERRdnlaZGtGbDhuTU5XUlp3R3ZmaWM3MGNlL1puRDhERExKR3A2Z01qK3lSdVpYYTJIR1BxMFV1NitVSGJnc2haMURadjhpQTE2b0hzd3NJemtMTTRDUXIyZ2tHcTdrdFFRPT0gYXV0byBnZW5lcmF0ZWQgdXNlciBhY2NlZXMga2V5cwo=",
                "private_key": "LS0tLS1CRUdJTiBSU0EgUFJJVkFURSBLRVktLS0tLQpNSUlDWEFJQkFBS0JnUUNmZC9ZRkc5NFJtS3pLZ1puNWxZb09TZWozT3IrMkQwWk44T2MvWEhmY2dNQ01MOTJ2Cm13SkFGV090bTZpWTZYYWY4R3EwM1Y1TERRdnlaZGtGbDhuTU5XUlp3R3ZmaWM3MGNlL1puRDhERExKR3A2Z00Kait5UnVaWGEySEdQcTBVdTYrVUhiZ3NoWjFEWnY4aUExNm9Ic3dzSXprTE00Q1FyMmdrR3E3a3RRUUlEQVFBQgpBb0dBRGlxY0Ftd3RXQ2JXQXM5c25FMTZqRFpvcWIzZ1ZnNFpVc2M1NDlrVkZOT2pSMURoUXI1a2Zzam5wLzZTCkJiT0h4RUdaV1NQcFFvV1FNQ0o0R3hVVzZoZFY5aDJvN3lKMTlQbHNQM1o0Qy8zeUNsZWQ5b2NlTHpESmNnbHQKRFBtVmdiNEpqemZGR0xxbXVNTEgvbktZL2NjS3N2a3dFVERCMTd0YnJvR0llNkVDUVFETEIxWnpSRFA3b3RhLwpMU3lYRDE4b0FmdHIvY01GNkJvUjl2L2lnOVRvMGg1ZDE2bVE4c2NVeWxLUFBCWEV2UDlnS2c3QlZFN2g0M2Z3CnEwUzVySkVOQWtFQXlSTXFYVXBJMHFHaHVoZ0haTGFGL2tkSE0rbXY4Y0lPc21qU2tWemU5c0VDMng3UDNjanIKUXlqbE9NZ3FQQVVHTmpCTXp5WitxUlJGT2pZRGZ6MjRCUUpBQng1NHY0M3lySzRuRFlrTitUWUd4aVpicEl1LwpYT09vbGx5czJFcDdHcmJUYmNMMEpTcitKQko4RnAycXZiMUt6eHBxYmdrQXd4Ynd5N1dWc1ZVRnVRSkFmZEV3ClFRK3FZYUlod0lBb29DeFZ5N1p1SjEyaWFuUXpIZy9aTW53YVIreWVETjVLMDB4VmFjQzlMYnFTTXR3eDl0WmkKT1h5czVMOTZVZUphYmRRQXdRSkJBTEdjRSttWFA0eDkzT3FwYVpvMDc3eTJzQk1PTTFNVnhVbGoxMHBQQ1JhcgpMTlh2c2lWcFk4cjc3bkVzbDBoN3V2UmlNeDNIQUJUa0J4Z1VIUk1PYjVZPQotLS0tLUVORCBSU0EgUFJJVkFURSBLRVktLS0tLQo="
              }
            },
            "public_ip": "145.100.133.247",
            "role": "master",
            "node_type": "XOLarge",
            "root_key_pair": {
              "protocol": "ssh",
              "keys": {
                "public_key": "c3NoLXJzYSBBQUFBQjNOemFDMXljMkVBQUFBREFRQUJBQUFBZ1FDSDVkRmdEekViY3REc1cyVFFySHJJM2RhZC9VdHJVdk9tRENOQXI4WFM3TmVyU2dMbTQwTVF1U0lzdWZ3TU1HakpRWFh2N283WmdKRnNtVTN6aDEwV3RDbU4vYjMzOHdJNFVQRXFhYUpGc0UzYVNBbHYydGNCQ29YMkhwR2RGaEQxT3p3VW9uYStDenhOaldBSUc2N0dZZm9tQjFxVDlkTlJZNTRicE45SmlRPT0ga2V5UGFpci00ZmNiNzRkNi1hNmJkLTQ2NDktOTFkZi02NGEzMTA0NTYxNGYK",
                "private_key": "LS0tLS1CRUdJTiBSU0EgUFJJVkFURSBLRVktLS0tLQpNSUlDWEFJQkFBS0JnUUNINWRGZ0R6RWJjdERzVzJUUXJIckkzZGFkL1V0clV2T21EQ05BcjhYUzdOZXJTZ0xtCjQwTVF1U0lzdWZ3TU1HakpRWFh2N283WmdKRnNtVTN6aDEwV3RDbU4vYjMzOHdJNFVQRXFhYUpGc0UzYVNBbHYKMnRjQkNvWDJIcEdkRmhEMU96d1VvbmErQ3p4TmpXQUlHNjdHWWZvbUIxcVQ5ZE5SWTU0YnBOOUppUUlEQVFBQgpBb0dBQlloSm1jdUVpRVdJVTliMHA3b2QxWWVTY1NRYXFlZmFtMnZyRTNzVVpwM1Z1ZGR0ZnRESnJpaWJSNDdhCnYvUklqOGptY0RvWi9xakpRczZLNmRzYzR2d1NTSmhvUXdxdVdNN25GSlJ3NC9lV1FoZW9jUzJJdTNCOXlMN1YKaW1tRXdCUzV5aVA4V2xQbEQwZ1lEdklXUDkycFJ0bFdqeng4Z1pSL1RZV3NGYkVDUVFEdkhrUmNwSHByN0ZkRApjZWhWRWxDWW5ULy9OeitodFpaTUE1YmtMMTIzcStDYkc1M1ZsNjZST0t6MWN3T3ZTZFlGTnlzeXV2NkR0ck9wCjI4bkxCcE5EQWtFQWtYMzdkVU5nMSsrTUhIbnZPVVJPMjVvdVFDSlM5Y2ZsY2dPWXZXMUNKVW10UFU4RGZNek0KcTVXTnJSay9VdkxDc3FBQkdybWdxdkNwNlVROHBlRFZRd0pCQUw5aU5Fa0tCRW41QWVjamRsY1FyNTFXenZBUQpZa2VsdFVQbDQ1R0RMN2xnUWdjalZYS3RVclU4N1lJT3FqWlVISTVVRjZrazdheXlRSjZGSWIvejVVMENRRzE0Ci9kd2Q5cUNEL2tqdTlyR0FWRldvaldSMGJ6ZkFVVVNZc0RUWUlRMHRnc3kreDBFQVdJQkM1M2QzcDg0aUc1Mk0KQjBpMG84LzdoZDJmR29NMXlVRUNRQmNxQnl3OGZIVm5PdFVOK0xsT3VYQ1QrSFgvSzFrQzBCbHlmb2hlRGVKNgpXSVprOExtZzFhQTRkcTdhSzREUmUxU1NZQUZjcGhpam5vQU0yRmJKRkNNPQotLS0tLUVORCBSU0EgUFJJVkFURSBLRVktLS0tLQo="
              }
            },
            "host_name": "vm0"
          }
        },
        "compute_1": {
          "properties": {
            "disk_size": "50000 MB",
            "mem_size": "6000 MB",
            "num_cores": 2,
            "os": "Ubuntu 18.04",
            "user_name": "vm_user"
          },
          "interfaces": {
            "Standard": {
              "create": "dumy.yaml"
            }
          },
          "type": "tosca.nodes.ARTICONF.VM.Compute",
          "attributes": {
            "user_key_pair": {
              "protocol": "ssh",
              "keys": {
                "public_key": "c3NoLXJzYSBBQUFBQjNOemFDMXljMkVBQUFBREFRQUJBQUFBZ1FDZmQvWUZHOTRSbUt6S2dabjVsWW9PU2VqM09yKzJEMFpOOE9jL1hIZmNnTUNNTDkydm13SkFGV090bTZpWTZYYWY4R3EwM1Y1TERRdnlaZGtGbDhuTU5XUlp3R3ZmaWM3MGNlL1puRDhERExKR3A2Z01qK3lSdVpYYTJIR1BxMFV1NitVSGJnc2haMURadjhpQTE2b0hzd3NJemtMTTRDUXIyZ2tHcTdrdFFRPT0gYXV0byBnZW5lcmF0ZWQgdXNlciBhY2NlZXMga2V5cwo=",
                "private_key": "LS0tLS1CRUdJTiBSU0EgUFJJVkFURSBLRVktLS0tLQpNSUlDWEFJQkFBS0JnUUNmZC9ZRkc5NFJtS3pLZ1puNWxZb09TZWozT3IrMkQwWk44T2MvWEhmY2dNQ01MOTJ2Cm13SkFGV090bTZpWTZYYWY4R3EwM1Y1TERRdnlaZGtGbDhuTU5XUlp3R3ZmaWM3MGNlL1puRDhERExKR3A2Z00Kait5UnVaWGEySEdQcTBVdTYrVUhiZ3NoWjFEWnY4aUExNm9Ic3dzSXprTE00Q1FyMmdrR3E3a3RRUUlEQVFBQgpBb0dBRGlxY0Ftd3RXQ2JXQXM5c25FMTZqRFpvcWIzZ1ZnNFpVc2M1NDlrVkZOT2pSMURoUXI1a2Zzam5wLzZTCkJiT0h4RUdaV1NQcFFvV1FNQ0o0R3hVVzZoZFY5aDJvN3lKMTlQbHNQM1o0Qy8zeUNsZWQ5b2NlTHpESmNnbHQKRFBtVmdiNEpqemZGR0xxbXVNTEgvbktZL2NjS3N2a3dFVERCMTd0YnJvR0llNkVDUVFETEIxWnpSRFA3b3RhLwpMU3lYRDE4b0FmdHIvY01GNkJvUjl2L2lnOVRvMGg1ZDE2bVE4c2NVeWxLUFBCWEV2UDlnS2c3QlZFN2g0M2Z3CnEwUzVySkVOQWtFQXlSTXFYVXBJMHFHaHVoZ0haTGFGL2tkSE0rbXY4Y0lPc21qU2tWemU5c0VDMng3UDNjanIKUXlqbE9NZ3FQQVVHTmpCTXp5WitxUlJGT2pZRGZ6MjRCUUpBQng1NHY0M3lySzRuRFlrTitUWUd4aVpicEl1LwpYT09vbGx5czJFcDdHcmJUYmNMMEpTcitKQko4RnAycXZiMUt6eHBxYmdrQXd4Ynd5N1dWc1ZVRnVRSkFmZEV3ClFRK3FZYUlod0lBb29DeFZ5N1p1SjEyaWFuUXpIZy9aTW53YVIreWVETjVLMDB4VmFjQzlMYnFTTXR3eDl0WmkKT1h5czVMOTZVZUphYmRRQXdRSkJBTEdjRSttWFA0eDkzT3FwYVpvMDc3eTJzQk1PTTFNVnhVbGoxMHBQQ1JhcgpMTlh2c2lWcFk4cjc3bkVzbDBoN3V2UmlNeDNIQUJUa0J4Z1VIUk1PYjVZPQotLS0tLUVORCBSU0EgUFJJVkFURSBLRVktLS0tLQo="
              }
            },
            "public_ip": "145.100.133.157",
            "role": "worker",
            "node_type": "XOLarge",
            "root_key_pair": {
              "protocol": "ssh",
              "keys": {
                "public_key": "c3NoLXJzYSBBQUFBQjNOemFDMXljMkVBQUFBREFRQUJBQUFBZ1FDSDVkRmdEekViY3REc1cyVFFySHJJM2RhZC9VdHJVdk9tRENOQXI4WFM3TmVyU2dMbTQwTVF1U0lzdWZ3TU1HakpRWFh2N283WmdKRnNtVTN6aDEwV3RDbU4vYjMzOHdJNFVQRXFhYUpGc0UzYVNBbHYydGNCQ29YMkhwR2RGaEQxT3p3VW9uYStDenhOaldBSUc2N0dZZm9tQjFxVDlkTlJZNTRicE45SmlRPT0ga2V5UGFpci00ZmNiNzRkNi1hNmJkLTQ2NDktOTFkZi02NGEzMTA0NTYxNGYK",
                "private_key": "LS0tLS1CRUdJTiBSU0EgUFJJVkFURSBLRVktLS0tLQpNSUlDWEFJQkFBS0JnUUNINWRGZ0R6RWJjdERzVzJUUXJIckkzZGFkL1V0clV2T21EQ05BcjhYUzdOZXJTZ0xtCjQwTVF1U0lzdWZ3TU1HakpRWFh2N283WmdKRnNtVTN6aDEwV3RDbU4vYjMzOHdJNFVQRXFhYUpGc0UzYVNBbHYKMnRjQkNvWDJIcEdkRmhEMU96d1VvbmErQ3p4TmpXQUlHNjdHWWZvbUIxcVQ5ZE5SWTU0YnBOOUppUUlEQVFBQgpBb0dBQlloSm1jdUVpRVdJVTliMHA3b2QxWWVTY1NRYXFlZmFtMnZyRTNzVVpwM1Z1ZGR0ZnRESnJpaWJSNDdhCnYvUklqOGptY0RvWi9xakpRczZLNmRzYzR2d1NTSmhvUXdxdVdNN25GSlJ3NC9lV1FoZW9jUzJJdTNCOXlMN1YKaW1tRXdCUzV5aVA4V2xQbEQwZ1lEdklXUDkycFJ0bFdqeng4Z1pSL1RZV3NGYkVDUVFEdkhrUmNwSHByN0ZkRApjZWhWRWxDWW5ULy9OeitodFpaTUE1YmtMMTIzcStDYkc1M1ZsNjZST0t6MWN3T3ZTZFlGTnlzeXV2NkR0ck9wCjI4bkxCcE5EQWtFQWtYMzdkVU5nMSsrTUhIbnZPVVJPMjVvdVFDSlM5Y2ZsY2dPWXZXMUNKVW10UFU4RGZNek0KcTVXTnJSay9VdkxDc3FBQkdybWdxdkNwNlVROHBlRFZRd0pCQUw5aU5Fa0tCRW41QWVjamRsY1FyNTFXenZBUQpZa2VsdFVQbDQ1R0RMN2xnUWdjalZYS3RVclU4N1lJT3FqWlVISTVVRjZrazdheXlRSjZGSWIvejVVMENRRzE0Ci9kd2Q5cUNEL2tqdTlyR0FWRldvaldSMGJ6ZkFVVVNZc0RUWUlRMHRnc3kreDBFQVdJQkM1M2QzcDg0aUc1Mk0KQjBpMG84LzdoZDJmR29NMXlVRUNRQmNxQnl3OGZIVm5PdFVOK0xsT3VYQ1QrSFgvSzFrQzBCbHlmb2hlRGVKNgpXSVprOExtZzFhQTRkcTdhSzREUmUxU1NZQUZjcGhpam5vQU0yRmJKRkNNPQotLS0tLUVORCBSU0EgUFJJVkFURSBLRVktLS0tLQo="
              }
            },
            "host_name": "vm1"
          }
        },
        "kubernetes": {
          "requirements": [
            {
              "host": {
                "capability": "tosca.capabilities.ARTICONF.VM.topology",
                "node": "topology",
                "relationship": "tosca.relationships.HostedOn"
              }
            }
          ],
          "interfaces": {
            "Kubernetes": {
              "configure": {
                "inputs": {
                  "playbook": "https://raw.githubusercontent.com/skoulouzis/CONF/develop/ansible_playbooks/dashboard.yaml"
                }
              },
              "create": {
                "inputs": {
                  "playbook": "https://raw.githubusercontent.com/skoulouzis/CONF/develop/ansible_playbooks/create_k8s.yml"
                }
              },
              "install": {
                "inputs": {
                  "playbook": "https://raw.githubusercontent.com/skoulouzis/CONF/develop/ansible_playbooks/install_k8s.yml"
                }
              }
            }
          },
          "type": "tosca.nodes.ARTICONF.docker.Orchestrator.Kubernetes"
        },
        "topology": {
          "properties": {
            "domain": "UvA (Amsterdam, The Netherlands) XO Rack",
            "provider": "ExoGENI"
          },
          "requirements": [
            {
              "vm": {
                "capability": "tosca.capabilities.ARTICONF.VM",
                "node": "compute",
                "relationship": "tosca.relationships.DependsOn"
              }
            },
            {
              "vm": {
                "capability": "tosca.capabilities.ARTICONF.VM",
                "node": "compute_1",
                "relationship": "tosca.relationships.DependsOn"
              }
            }
          ],
          "interfaces": {
            "CloudsStorm": {
              "provision": {
                "inputs": {
                  "code_type": "SEQ",
                  "object_type": "SubTopology"
                }
              }
            }
          },
          "type": "tosca.nodes.ARTICONF.VM.topology",
          "attributes": {
            "status": "running"
          }
        },
        "ws-pema": {
          "properties": {
            "ports": [
              "30001:8080"
            ]
          },
          "requirements": [
            {
              "host": {
                "capability": "tosca.capabilities.ARTICONF.docker.Orchestrator",
                "node": "kubernetes",
                "relationship": "tosca.relationships.HostedOn"
              }
            }
          ],
          "type": "tosca.nodes.ARTICONF.Container.Application.Docker",
          "artifacts": {
            "image": {
              "file": "alogo53/ws-pema-lifewatch",
              "repository": "docker_hub",
              "type": "tosca.artifacts.Deployment.Image.Container.Docker"
            }
          }
        }
      }
    },
    "description": "TOSCA example",
    "imports": [
      {
        "nodes": "https://raw.githubusercontent.com/skoulouzis/DRIP/develop/TOSCA/types/nodes.yaml"
      },
      {
        "data": "https://raw.githubusercontent.com/skoulouzis/CONF/develop/TOSCA/types/data.yml"
      },
      {
        "capabilities": "https://raw.githubusercontent.com/skoulouzis/DRIP/develop/TOSCA/types/capabilities.yaml"
      },
      {
        "policies": "https://raw.githubusercontent.com/skoulouzis/DRIP/develop/TOSCA/types/policies.yaml"
      },
      {
        "interfaces": "https://raw.githubusercontent.com/skoulouzis/DRIP/develop/TOSCA/types/interfaces.yml"
      }
    ]
  }
}
