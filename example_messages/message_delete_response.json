{
  "creationDate": 1585661197255,
  "toscaTemplate": {
    "tosca_definitions_version": "tosca_simple_yaml_1_0",
    "topology_template": {
      "node_templates": {
        "compute": {
          "properties": {
            "disk_size": "10000 MB",
            "mem_size": "1000 MB",
            "num_cores": 1,
            "os": "Ubuntu 18.04",
            "user_name": "vm_user"
          },
          "interfaces": {
            "Standard": {
              "create": "dumy.yaml"
            }
          },
          "type": "tosca.nodes.ARTICONF.VM.Compute",
          "attributes": {
            "host_name": "vm0",
            "node_type": "t2.micro",
            "role": "master",
            "root_key_pair": {
              "protocol": "ssh",
              "keys": {
                "public_key": "cHVibGljS2V5LTU0MmQzNzQ2LTU2OWItNGM5OS1iYTk4LWMzYmRmNDMzMmExOA==",
                "private_key": "LS0tLS1CRUdJTiBSU0EgUFJJVkFURSBLRVktLS0tLQpNSUlFcEFJQkFBS0NBUUVBcW5yZkhjWHA5cHlmbWNtSVZGQWZnUTNMbUZTMGY1RllHRUVnVVNrY2EwMGJuM00xc2dWazNENVJadW9xCnZicU5yeEVzM3l3K0VGYThrUS9sSkxoK045OWh1eVJYZVd2b2VhbWkwdXgrci9yZTJvdllCOVhVTU83Z3FQUnhzUVp5WXJpVTdqWWkKQ3dWRDdLalkraTFoZC96ZTU5OVcyTGZHeVJZY0oyaFh2dWg0REozVys1aTAzOVk4bThJUWdZZCtUa0ozR2RhcGVhd0JZOFdqbHZrTgpyMHBYVFZlclRCWWRGVWhMTENqeWw1dnJxVFFuZTN4Z05FWXRkZ1cyRmNQQTdaTnhaZHZXdjBlWEV5Zkdsd3hKbEpva2JJV3dRRnZXCnA5dElDanBUc0RVb2pxOUp3ZlFNL1lrYmRKeXoxQjdxT1VyZ1had1dBMXMvS2IrLzZPMy8zd0lEQVFBQkFvSUJBQyttZEdLUUJSc24KSC8wT05ZckxjbUxTQmt3bnNPUFBMajVwUmEwcHZvWEhZYWNwdnFKcG00MXI1YmpNVHZJRkNNRWNIZHlyTXhYQ0NLYkxPSk1ROWthTApxM2R4YXZuSFRZMWordHpWdVh0YXRadUVadmVacnR1V2lUandTaTdlekc0SGhha25mRkIwUWs0Tnk4ZnhrMExFYlZHR1BYSUp2QWhNCm84WG9CazZYbWtKK0dLRzRQcDJZTHRKUHNqbTZzUW1MbGtqYTBTbU82WW8razVYa2RjdU9GTGd4VHp0QzFCMDNFbmt2TTYyOHkvbjYKeWN2a1pYUXZGMWlYRnNVS2VKb0RIRWVqN2o5ODBtVkdEZHpRNm84MTVRWG1iSnlhaWtmWjFXbnU5U0p4QnhiSGZiWGt0QklMdVhSVAp2ZkZKTjFuaEJEZ3hjaEhzWHljRDhMUFVVQUVDZ1lFQTUwNkdITlIwNVlHTVBFTXhQN3RpdUVPM3o5Zm9Wb1dKNitZZmliL2lVaVZNCmpiVGh4eWZyUXZPUmtrYVJoRlJuUjBrZGhDOWYyeHYxMzdvUlVhQXlncjFPQmRYL3N3OC8zYU9FdlNteVJtYmRjMzhBQ1FYY2VBdnMKbkk0WnB0OVliendEd1BMaUpZTlVPUGFlY05BSitvQklsdlRTbzNVQVVlUFczNFo1TTk4Q2dZRUF2SzM4OW5Ic2IyTldSQkJBQjloRgpVMHpxYWlhNE5ocHowd0lNcDN6T3ZHN29yay9ZSlZCd3ZNaHNQUFhIakxjeHRoWFFGL1F0REVHVzFHZW1RRmhlbWZHY0huYXNacml1CkQzQmJkNS9ZK1JZeVA1QVhQYk5QNWFJYm1Nb0ZXak8vMUZxWmxVKzRrdzVSNTR6dUdqL2hSbE9TSmJvMk9remNVc1U4MFBXRXRBRUMKZ1lFQWxaanhvQi9BWXRjQWJkRS9QdXJnbERBbjU2TEtQM3Nxa29sSkNId3owZEVSeSt5YXdZV040TVZLOXdIeEIxYlhYUUZxdDUwMApMNi9MdTZESnByTW5OK3RiVk9iczgwLy9qRWMvaUdBNVR0TWtrcGdtMjY4UXdndGtRblNkSHBJQXppQlFoVEFSRnhYekdNeFgrTHAwCldiRXlRWCtoNDltK0ZUaDROaVR3cXAwQ2dZRUFuTkxnbHRaSjlxdFNZSEJCU0VQeUd6S3JCRi82YkwyLzEzcTBtZUdhMC9RN1llYnIKZU5oTFhCNGFHUEVRVTExUTdFOWxEd1BkRFhyV3F1VWJ3Zyt4VWJNSVdDbTdVZ1hlWnVhMG45RTB2cFE4WDZpY0tLU0puQXdKZEEwMgpOYXNkbnB0UFhGTk96cXZ3VjgxRGVuM3QrRTR1QXoyckpQb05ocDU1MWhTN29BRUNnWUJQck1ISTVGTlpUaVVKTzE4Y2I3aHBRamR4ClE4cllpUmlYMWZyZHB0QVNLSjFMek5hTTB3OFlUMThRblRmOWlMMjVsQ0ZEQzF0bEN5bXdrNnRoc0NWWU5XOW5XWnIxdUJMa1lYTzYKK0NRb0k3YmJoQjlQWDFzckE5RlN6T3NUZmNWZk1QTUlQZm1iNExlTFlYdWhHalJhNlRCdjdORkJDT0pCTnlYendRVVBhdz09Ci0tLS0tRU5EIFJTQSBQUklWQVRFIEtFWS0tLS0t"
              }
            },
            "user_key_pair": {
              "protocol": "ssh",
              "keys": {
                "public_key": "c3NoLXJzYSBBQUFBQjNOemFDMXljMkVBQUFBREFRQUJBQUFBZ1FDYWhnbmZ0MUxnMkV6aVhGdGswajNYeEliVWFzbG5oUjZmaEtGU2xQZnovblFOaG1xT2NydHlOZWU5OVdGRGx3Ky9rL3ZlYUpKRFpqY3VzaHNRVTNoS1ByaitSOVdNUjhtL0YyVFkvWFZCdXRKNUlFWFVoTlpuMW9BYi8yVWhoZ2VReXpqcE01aFFxQTYxSHFtWk9vQ05vbGtlUVllLytGWlJ6QmhhbFdyRGVRPT0gZ2VuZXJhdGVkIHVzZXIgYWNjZWVzIGtleXMK",
                "private_key": "LS0tLS1CRUdJTiBSU0EgUFJJVkFURSBLRVktLS0tLQpNSUlDWEFJQkFBS0JnUUNhaGduZnQxTGcyRXppWEZ0azBqM1h4SWJVYXNsbmhSNmZoS0ZTbFBmei9uUU5obXFPCmNydHlOZWU5OVdGRGx3Ky9rL3ZlYUpKRFpqY3VzaHNRVTNoS1ByaitSOVdNUjhtL0YyVFkvWFZCdXRKNUlFWFUKaE5abjFvQWIvMlVoaGdlUXl6anBNNWhRcUE2MUhxbVpPb0NOb2xrZVFZZS8rRlpSekJoYWxXckRlUUlEQVFBQgpBb0dBZjZrOWZ4WjE0a3pST0RJVlQ3WmlZV0I4QkFJMVl0RVgrN0lYbGFKOU41ZUJTYXREWFd4c2NHOFlobGV6Cmc2UEozdnpqbVZ2TGV1TjNzNXh4djRzMlZOZldGNlZSWTdMc0xkNzZnUkZEdUZSdDIxVWVYTXMybGRSbml3TUsKK05mNWZXdHk5ZlViaWg2ckkvQUVpdTEyaERCb1RBQjJHWjYvTHBiVVFGam1tQUVDUVFESXU4dEhuY3FoN29IbAowT1laYkJEL0t3NmxXKzJDN0FUeEhDVlM3M2JndUM1aWhnQkRDb2lPN01TRm9Sd2NGMitMcWtQRXJGc1BDd21OCnBBNXNPNkJOQWtFQXhSRS91MVZlWCtGd1I4ZUt2WlUvdjdXM0JpUEVBd2pLOEV2bzJ2VEhPa0VQbjlpVHVDLzYKcU9zb0pkcUVjb2JYR0pkRWdmM0VienFUZk1iTVAvOWwzUUpCQU1DclA5cGxvZkQ3dE1LWlY4SmU3NUY4Q25xOQpXYU9vVnJYMmhmeXN6RFcxa3hBTi9vSmF3ZWd0YWhPNUovbnVwS294cXdwRFJNT1RuSC9QVCtpaThxRUNRQTRoCitvd1l4emZoRndoT3l5aGxkN2pyODBCQmVHRXZWRDUvY3llZ3ZsanpLWWV4SklibENmanJSR25TamdVWW5ueG8KL01URnlqeWYyc3ZzQmVIaEV4RUNRQi9IWkVKT3hxVDVCNDRwUVVOU0pIdDN2Y01BbmNYL3ZLcTBWT0h5SVh1LwpONU1tTEFWM29GcWEyTThIYklhNXByQnRGdno1TW0vbEFoeVk5ZmtTNWlrPQotLS0tLUVORCBSU0EgUFJJVkFURSBLRVktLS0tLQo="
              }
            }
          }
        },
        "compute_1": {
          "properties": {
            "disk_size": "10000 MB",
            "mem_size": "1000 MB",
            "num_cores": 1,
            "os": "Ubuntu 18.04",
            "user_name": "vm_user"
          },
          "interfaces": {
            "Standard": {
              "create": "dumy.yaml"
            }
          },
          "type": "tosca.nodes.ARTICONF.VM.Compute",
          "attributes": {
            "host_name": "vm1",
            "node_type": "t2.micro",
            "role": "worker",
            "root_key_pair": {
              "protocol": "ssh",
              "keys": {
                "public_key": "cHVibGljS2V5LTU0MmQzNzQ2LTU2OWItNGM5OS1iYTk4LWMzYmRmNDMzMmExOA==",
                "private_key": "LS0tLS1CRUdJTiBSU0EgUFJJVkFURSBLRVktLS0tLQpNSUlFcEFJQkFBS0NBUUVBcW5yZkhjWHA5cHlmbWNtSVZGQWZnUTNMbUZTMGY1RllHRUVnVVNrY2EwMGJuM00xc2dWazNENVJadW9xCnZicU5yeEVzM3l3K0VGYThrUS9sSkxoK045OWh1eVJYZVd2b2VhbWkwdXgrci9yZTJvdllCOVhVTU83Z3FQUnhzUVp5WXJpVTdqWWkKQ3dWRDdLalkraTFoZC96ZTU5OVcyTGZHeVJZY0oyaFh2dWg0REozVys1aTAzOVk4bThJUWdZZCtUa0ozR2RhcGVhd0JZOFdqbHZrTgpyMHBYVFZlclRCWWRGVWhMTENqeWw1dnJxVFFuZTN4Z05FWXRkZ1cyRmNQQTdaTnhaZHZXdjBlWEV5Zkdsd3hKbEpva2JJV3dRRnZXCnA5dElDanBUc0RVb2pxOUp3ZlFNL1lrYmRKeXoxQjdxT1VyZ1had1dBMXMvS2IrLzZPMy8zd0lEQVFBQkFvSUJBQyttZEdLUUJSc24KSC8wT05ZckxjbUxTQmt3bnNPUFBMajVwUmEwcHZvWEhZYWNwdnFKcG00MXI1YmpNVHZJRkNNRWNIZHlyTXhYQ0NLYkxPSk1ROWthTApxM2R4YXZuSFRZMWordHpWdVh0YXRadUVadmVacnR1V2lUandTaTdlekc0SGhha25mRkIwUWs0Tnk4ZnhrMExFYlZHR1BYSUp2QWhNCm84WG9CazZYbWtKK0dLRzRQcDJZTHRKUHNqbTZzUW1MbGtqYTBTbU82WW8razVYa2RjdU9GTGd4VHp0QzFCMDNFbmt2TTYyOHkvbjYKeWN2a1pYUXZGMWlYRnNVS2VKb0RIRWVqN2o5ODBtVkdEZHpRNm84MTVRWG1iSnlhaWtmWjFXbnU5U0p4QnhiSGZiWGt0QklMdVhSVAp2ZkZKTjFuaEJEZ3hjaEhzWHljRDhMUFVVQUVDZ1lFQTUwNkdITlIwNVlHTVBFTXhQN3RpdUVPM3o5Zm9Wb1dKNitZZmliL2lVaVZNCmpiVGh4eWZyUXZPUmtrYVJoRlJuUjBrZGhDOWYyeHYxMzdvUlVhQXlncjFPQmRYL3N3OC8zYU9FdlNteVJtYmRjMzhBQ1FYY2VBdnMKbkk0WnB0OVliendEd1BMaUpZTlVPUGFlY05BSitvQklsdlRTbzNVQVVlUFczNFo1TTk4Q2dZRUF2SzM4OW5Ic2IyTldSQkJBQjloRgpVMHpxYWlhNE5ocHowd0lNcDN6T3ZHN29yay9ZSlZCd3ZNaHNQUFhIakxjeHRoWFFGL1F0REVHVzFHZW1RRmhlbWZHY0huYXNacml1CkQzQmJkNS9ZK1JZeVA1QVhQYk5QNWFJYm1Nb0ZXak8vMUZxWmxVKzRrdzVSNTR6dUdqL2hSbE9TSmJvMk9remNVc1U4MFBXRXRBRUMKZ1lFQWxaanhvQi9BWXRjQWJkRS9QdXJnbERBbjU2TEtQM3Nxa29sSkNId3owZEVSeSt5YXdZV040TVZLOXdIeEIxYlhYUUZxdDUwMApMNi9MdTZESnByTW5OK3RiVk9iczgwLy9qRWMvaUdBNVR0TWtrcGdtMjY4UXdndGtRblNkSHBJQXppQlFoVEFSRnhYekdNeFgrTHAwCldiRXlRWCtoNDltK0ZUaDROaVR3cXAwQ2dZRUFuTkxnbHRaSjlxdFNZSEJCU0VQeUd6S3JCRi82YkwyLzEzcTBtZUdhMC9RN1llYnIKZU5oTFhCNGFHUEVRVTExUTdFOWxEd1BkRFhyV3F1VWJ3Zyt4VWJNSVdDbTdVZ1hlWnVhMG45RTB2cFE4WDZpY0tLU0puQXdKZEEwMgpOYXNkbnB0UFhGTk96cXZ3VjgxRGVuM3QrRTR1QXoyckpQb05ocDU1MWhTN29BRUNnWUJQck1ISTVGTlpUaVVKTzE4Y2I3aHBRamR4ClE4cllpUmlYMWZyZHB0QVNLSjFMek5hTTB3OFlUMThRblRmOWlMMjVsQ0ZEQzF0bEN5bXdrNnRoc0NWWU5XOW5XWnIxdUJMa1lYTzYKK0NRb0k3YmJoQjlQWDFzckE5RlN6T3NUZmNWZk1QTUlQZm1iNExlTFlYdWhHalJhNlRCdjdORkJDT0pCTnlYendRVVBhdz09Ci0tLS0tRU5EIFJTQSBQUklWQVRFIEtFWS0tLS0t"
              }
            },
            "user_key_pair": {
              "protocol": "ssh",
              "keys": {
                "public_key": "c3NoLXJzYSBBQUFBQjNOemFDMXljMkVBQUFBREFRQUJBQUFBZ1FDYWhnbmZ0MUxnMkV6aVhGdGswajNYeEliVWFzbG5oUjZmaEtGU2xQZnovblFOaG1xT2NydHlOZWU5OVdGRGx3Ky9rL3ZlYUpKRFpqY3VzaHNRVTNoS1ByaitSOVdNUjhtL0YyVFkvWFZCdXRKNUlFWFVoTlpuMW9BYi8yVWhoZ2VReXpqcE01aFFxQTYxSHFtWk9vQ05vbGtlUVllLytGWlJ6QmhhbFdyRGVRPT0gZ2VuZXJhdGVkIHVzZXIgYWNjZWVzIGtleXMK",
                "private_key": "LS0tLS1CRUdJTiBSU0EgUFJJVkFURSBLRVktLS0tLQpNSUlDWEFJQkFBS0JnUUNhaGduZnQxTGcyRXppWEZ0azBqM1h4SWJVYXNsbmhSNmZoS0ZTbFBmei9uUU5obXFPCmNydHlOZWU5OVdGRGx3Ky9rL3ZlYUpKRFpqY3VzaHNRVTNoS1ByaitSOVdNUjhtL0YyVFkvWFZCdXRKNUlFWFUKaE5abjFvQWIvMlVoaGdlUXl6anBNNWhRcUE2MUhxbVpPb0NOb2xrZVFZZS8rRlpSekJoYWxXckRlUUlEQVFBQgpBb0dBZjZrOWZ4WjE0a3pST0RJVlQ3WmlZV0I4QkFJMVl0RVgrN0lYbGFKOU41ZUJTYXREWFd4c2NHOFlobGV6Cmc2UEozdnpqbVZ2TGV1TjNzNXh4djRzMlZOZldGNlZSWTdMc0xkNzZnUkZEdUZSdDIxVWVYTXMybGRSbml3TUsKK05mNWZXdHk5ZlViaWg2ckkvQUVpdTEyaERCb1RBQjJHWjYvTHBiVVFGam1tQUVDUVFESXU4dEhuY3FoN29IbAowT1laYkJEL0t3NmxXKzJDN0FUeEhDVlM3M2JndUM1aWhnQkRDb2lPN01TRm9Sd2NGMitMcWtQRXJGc1BDd21OCnBBNXNPNkJOQWtFQXhSRS91MVZlWCtGd1I4ZUt2WlUvdjdXM0JpUEVBd2pLOEV2bzJ2VEhPa0VQbjlpVHVDLzYKcU9zb0pkcUVjb2JYR0pkRWdmM0VienFUZk1iTVAvOWwzUUpCQU1DclA5cGxvZkQ3dE1LWlY4SmU3NUY4Q25xOQpXYU9vVnJYMmhmeXN6RFcxa3hBTi9vSmF3ZWd0YWhPNUovbnVwS294cXdwRFJNT1RuSC9QVCtpaThxRUNRQTRoCitvd1l4emZoRndoT3l5aGxkN2pyODBCQmVHRXZWRDUvY3llZ3ZsanpLWWV4SklibENmanJSR25TamdVWW5ueG8KL01URnlqeWYyc3ZzQmVIaEV4RUNRQi9IWkVKT3hxVDVCNDRwUVVOU0pIdDN2Y01BbmNYL3ZLcTBWT0h5SVh1LwpONU1tTEFWM29GcWEyTThIYklhNXByQnRGdno1TW0vbEFoeVk5ZmtTNWlrPQotLS0tLUVORCBSU0EgUFJJVkFURSBLRVktLS0tLQo="
              }
            }
          }
        },
        "kubernetes": {
          "requirements": [
            {
              "host": {
                "capability": "tosca.capabilities.ARTICONF.VM.topology",
                "node": "topology",
                "relationship": "tosca.relationships.HostedOn"
              }
            }
          ],
          "interfaces": {
            "Standard": {
              "configure": {
                "inputs": {
                  "playbook": "k8s_dashboard.yaml",
                  "repository": "https://github.com/skoulouzis/playbooks.git"
                }
              },
              "create": {
                "inputs": {
                  "playbook": "install_k8s.yaml",
                  "repository": "https://github.com/skoulouzis/playbooks.git"
                }
              },
              "delete": {
                "inputs": {
                  "playbook": "k8s_delete.yaml",
                  "repository": "https://github.com/skoulouzis/playbooks.git"
                }
              }
            }
          },
          "type": "tosca.nodes.ARTICONF.docker.Orchestrator.Kubernetes"
        },
        "topology": {
          "properties": {
            "domain": "Frankfurt",
            "provider": "EC2"
          },
          "requirements": [
            {
              "vm": {
                "capability": "tosca.capabilities.ARTICONF.VM",
                "node": "compute",
                "relationship": "tosca.relationships.DependsOn"
              }
            },
            {
              "vm": {
                "capability": "tosca.capabilities.ARTICONF.VM",
                "node": "compute_1",
                "relationship": "tosca.relationships.DependsOn"
              }
            }
          ],
          "interfaces": {
            "CloudsStorm": {
              "delete": {
                "inputs": {
                  "code_type": "SEQ",
                  "object_type": "SubTopology"
                }
              },
              "hscale": {
                "inputs": {
                  "code_type": "SEQ",
                  "object_type": "SubTopology"
                }
              },
              "provision": {
                "inputs": {
                  "code_type": "SEQ",
                  "object_type": "SubTopology"
                }
              },
              "start": {
                "inputs": {
                  "code_type": "SEQ",
                  "object_type": "SubTopology"
                }
              },
              "stop": {
                "inputs": {
                  "code_type": "SEQ",
                  "object_type": "SubTopology"
                }
              }
            }
          },
          "type": "tosca.nodes.ARTICONF.VM.topology",
          "attributes": {
            "credential": {
              "cloud_provider_name": "EC2",
              "keys": {
                "aws_access_key_id": "XXXXXXXXXX"
              },
              "token": "XXXXXXXXXx",
              "token_type": "access_key"
            },
            "current_state": "DELETED",
            "desired_state": "DELETED"
          },
          "artifacts": {
            "provisioned_files": {
              "file_ext": "zip",
              "file_contents": "XXXXXXXXXXXXXXXXXXXx",
              "type": "tosca.datatypes.ARTICONF.encodedFile",
              "encoding": "base64"
            }
          }
        },
        "ws-pema": {
          "properties": {
            "ports": [
              "30001:8080"
            ]
          },
          "requirements": [
            {
              "host": {
                "capability": "tosca.capabilities.ARTICONF.docker.Orchestrator",
                "node": "kubernetes",
                "relationship": "tosca.relationships.HostedOn"
              }
            }
          ],
          "type": "tosca.nodes.ARTICONF.Container.Application.Docker",
          "artifacts": {
            "image": {
              "file": "alogo53/ws-pema-lifewatch",
              "repository": "docker_hub",
              "type": "tosca.artifacts.Deployment.Image.Container.Docker"
            }
          }
        }
      }
    },
    "description": "TOSCA example",
    "imports": [
      {
        "nodes": "https://raw.githubusercontent.com/skoulouzis/DRIP/develop/TOSCA/types/nodes.yaml"
      },
      {
        "data": "https://raw.githubusercontent.com/skoulouzis/CONF/develop/TOSCA/types/data.yml"
      },
      {
        "capabilities": "https://raw.githubusercontent.com/skoulouzis/DRIP/develop/TOSCA/types/capabilities.yaml"
      },
      {
        "policies": "https://raw.githubusercontent.com/skoulouzis/DRIP/develop/TOSCA/types/policies.yaml"
      },
      {
        "interfaces": "https://raw.githubusercontent.com/skoulouzis/DRIP/develop/TOSCA/types/interfaces.yml"
      }
    ]
  }
}
